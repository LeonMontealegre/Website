<!DOCTYPE HTML>
<html>
    <head>
        <link rel="stylesheet" href="/about/style.css">

        <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>

        <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/10.0.0/styles/default.min.css">
        <script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/10.0.0/highlight.min.js"></script>
    </head>
    <body>
        <div class="page-wrap">
            <header>
                <div class="planet-header">
                    <div class="planet-header-line"></div>
                    <div class="planet-header-circle-1"><p>Home</p></div>
                    <div class="planet-header-circle-2"><p>About</p></div>
                    <div class="planet-header-circle-3"><p>Blog</p></div>
                    <div class="planet-header-circle-4"><p>Projects</p></div>
                    <div class="planet-header-circle-5"><p>Animations</p></div>
                    <div class="planet-header-circle-6"><p>Models</p></div>
                </div>
            </header>

            <div class="container mt-5">
                <img alt="Mandelbrot thumbnail"
                     style="height: 350px; width: 100%; display: block; object-fit: cover;"
                     src="/projects/Mandelbrot/index.png">
                <h1 class="text-dark text-center my-5">Mandelbrot Set</h1>
                <div class="text-dark h3">
                    <p>A really simple Mandelbrot set visualizer I made in a couple of hours using JavaScript + WebGL.</p>
                    <p>I made it because I’ve always heard about it, but never really understood what it represented or how it worked.<br>
                        I also (for fun) made a golfed version which is &lt; 1500 characters and fully interactive but completely illegible, which I will put at the end of this post.</p>
                    <p>You can use it for yourself right here!</p>
                    <p>(Mouse to pan, scroll wheel to zoom in and out – not tested on mobile)</p>
                </div>
                <div class="text-center my-5">
                    <a type="button" class="btn btn-lg btn-primary" href="/projects/Mandelbrot/app/" target="_blank">Go to visualizer</a>
                </div>
                <div class="text-dark text-center mb-3">
                    Here's the golfed code: 1,339 characters
                </div>
                <div>
                    <!-- HTML generated using hilite.me --><div style="background: #ffffff; overflow:auto;width:auto;border:solid gray;border-width:.1em .1em .1em .8em;padding:.2em .6em;"><table><tr><td><pre style="margin: 0; line-height: 125%">
1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26</pre></td><td><pre style="margin: 0; line-height: 125%"><span style="color: #007700">&lt;canvas</span> <span style="color: #0000CC">id=</span><span style="background-color: #fff0f0">&quot;g&quot;</span> <span style="color: #0000CC">width=</span><span style="background-color: #fff0f0">&quot;640&quot;</span> <span style="color: #0000CC">height=</span><span style="background-color: #fff0f0">&quot;480&quot;</span><span style="color: #007700">&gt;&lt;/canvas&gt;</span>
<span style="color: #007700">&lt;script&gt;</span>
c<span style="color: #333333">=</span><span style="color: #007020">document</span>.getElementById(<span style="background-color: #fff0f0">&#39;g&#39;</span>);
g<span style="color: #333333">=</span>c.getContext(<span style="background-color: #fff0f0">&#39;webgl&#39;</span>);
q<span style="color: #333333">=</span><span style="color: #007020">Object</span>.getOwnPropertyNames(WebGLRenderingContext.prototype);
a<span style="color: #333333">=</span><span style="color: #0000DD; font-weight: bold">34962</span>,b<span style="color: #333333">=</span>a<span style="color: #333333">+</span><span style="color: #0000DD; font-weight: bold">82</span>,e<span style="color: #333333">=</span><span style="color: #0000DD; font-weight: bold">35633</span>,m<span style="color: #333333">=</span>q[<span style="color: #0000DD; font-weight: bold">301</span>],h<span style="color: #333333">=</span><span style="background-color: #fff0f0">&#39;addEventListener&#39;</span>;
<span style="color: #008800; font-weight: bold">function</span> k(i,a){g[q[<span style="color: #0000DD; font-weight: bold">303</span>]](i,g[q[<span style="color: #0000DD; font-weight: bold">325</span>]]());g[q[<span style="color: #0000DD; font-weight: bold">312</span>]](i,a,b);}
k(a,<span style="color: #008800; font-weight: bold">new</span> Float32Array([<span style="color: #333333">-</span><span style="color: #0000DD; font-weight: bold">1</span>,<span style="color: #0000DD; font-weight: bold">1</span>,<span style="color: #333333">-</span><span style="color: #0000DD; font-weight: bold">1</span>,<span style="color: #333333">-</span><span style="color: #0000DD; font-weight: bold">1</span>,<span style="color: #0000DD; font-weight: bold">1</span>,<span style="color: #333333">-</span><span style="color: #0000DD; font-weight: bold">1</span>,<span style="color: #0000DD; font-weight: bold">1</span>,<span style="color: #0000DD; font-weight: bold">1</span>]));
k(a<span style="color: #333333">+</span><span style="color: #0000DD; font-weight: bold">1</span>,<span style="color: #008800; font-weight: bold">new</span> Uint16Array([<span style="color: #0000DD; font-weight: bold">3</span>,<span style="color: #0000DD; font-weight: bold">2</span>,<span style="color: #0000DD; font-weight: bold">1</span>,<span style="color: #0000DD; font-weight: bold">3</span>,<span style="color: #0000DD; font-weight: bold">1</span>,<span style="color: #0000DD; font-weight: bold">0</span>]));
<span style="color: #008800; font-weight: bold">function</span> j(i,t){r<span style="color: #333333">=</span>g[q[<span style="color: #0000DD; font-weight: bold">329</span>]](i);g[q[<span style="color: #0000DD; font-weight: bold">394</span>]](r,t);g[q[<span style="color: #0000DD; font-weight: bold">320</span>]](r);<span style="color: #008800; font-weight: bold">return</span> r;}
v<span style="color: #333333">=</span>j(e,<span style="background-color: #fff0f0">&#39;attribute vec2 c;void main(){gl_Position=vec4(c,0,1);}&#39;</span>);
f<span style="color: #333333">=</span>j(e<span style="color: #333333">-</span><span style="color: #0000DD; font-weight: bold">1</span>,<span style="background-color: #fff0f0">&#39;precision highp float;uniform vec3 z;\n#define l length\n#define v vec2\nvoid main(){v u=(gl_FragCoord.xy*v(4./640.,4./480.)-v(2,2))/z.x+v(z.y,z.z);v z=v(0);int ai;for(int i=0;i&lt;500;i++){ai=i;z=v(z.x*z.x-z.y*z.y,2.*z.x*z.y)+u;if(l(z)&gt;=2.)break;}gl_FragColor=vec4(vec3(1./log(float(ai)/500.)+1.),1);}&#39;</span>);
s<span style="color: #333333">=</span>g[q[<span style="color: #0000DD; font-weight: bold">327</span>]]();g[m](s,v);g[m](s,f);
g[q[<span style="color: #0000DD; font-weight: bold">387</span>]](s);g[q[<span style="color: #0000DD; font-weight: bold">424</span>]](s);
g[q[<span style="color: #0000DD; font-weight: bold">302</span>]](s,<span style="color: #0000DD; font-weight: bold">0</span>,<span style="background-color: #fff0f0">&#39;c&#39;</span>);
l<span style="color: #333333">=</span>g[q[<span style="color: #0000DD; font-weight: bold">374</span>]](s,<span style="background-color: #fff0f0">&#39;z&#39;</span>);
g[q[<span style="color: #0000DD; font-weight: bold">413</span>]](l,<span style="color: #6600EE; font-weight: bold">0.5</span>,<span style="color: #0000DD; font-weight: bold">0</span>,<span style="color: #0000DD; font-weight: bold">0</span>);
g[q[<span style="color: #0000DD; font-weight: bold">434</span>]](<span style="color: #0000DD; font-weight: bold">0</span>,<span style="color: #0000DD; font-weight: bold">2</span>,<span style="color: #0000DD; font-weight: bold">5126</span>,<span style="color: #0000DD; font-weight: bold">0</span>,<span style="color: #0000DD; font-weight: bold">0</span>,<span style="color: #0000DD; font-weight: bold">0</span>);g[q[<span style="color: #0000DD; font-weight: bold">347</span>]](<span style="color: #0000DD; font-weight: bold">0</span>);
x<span style="color: #333333">=</span>y<span style="color: #333333">=</span>i<span style="color: #333333">=</span>j<span style="color: #333333">=</span>n<span style="color: #333333">=</span>m<span style="color: #333333">=</span><span style="color: #0000DD; font-weight: bold">0</span>,z<span style="color: #333333">=</span>z2<span style="color: #333333">=</span><span style="color: #0000DD; font-weight: bold">1</span>;
c[h](<span style="background-color: #fff0f0">&#39;mousedown&#39;</span>,(e)<span style="color: #333333">=&gt;</span>{m<span style="color: #333333">=</span><span style="color: #0000DD; font-weight: bold">1</span>;u()});
c[h](<span style="background-color: #fff0f0">&#39;mouseup&#39;</span>,(e)<span style="color: #333333">=&gt;</span>{m<span style="color: #333333">=</span><span style="color: #0000DD; font-weight: bold">0</span>});
c[h](<span style="background-color: #fff0f0">&#39;mousemove&#39;</span>,(e)<span style="color: #333333">=&gt;</span>{<span style="color: #008800; font-weight: bold">var</span> q<span style="color: #333333">=</span>.<span style="color: #0000DD; font-weight: bold">5</span><span style="color: #333333">-</span>e.clientX<span style="color: #333333">/</span><span style="color: #0000DD; font-weight: bold">640</span>,w<span style="color: #333333">=</span>e.clientY<span style="color: #333333">/</span><span style="color: #0000DD; font-weight: bold">480</span><span style="color: #333333">+</span>.<span style="color: #0000DD; font-weight: bold">5</span>;<span style="color: #008800; font-weight: bold">if</span>(m<span style="color: #333333">==</span><span style="color: #0000DD; font-weight: bold">1</span>)x<span style="color: #333333">+=</span><span style="color: #0000DD; font-weight: bold">2</span><span style="color: #333333">*</span>(q<span style="color: #333333">-</span>i)<span style="color: #333333">/</span>z2,y<span style="color: #333333">+=</span><span style="color: #0000DD; font-weight: bold">2</span><span style="color: #333333">*</span>(w<span style="color: #333333">-</span>j)<span style="color: #333333">/</span>z2;i<span style="color: #333333">=</span>q,j<span style="color: #333333">=</span>w;u()});
c[h](<span style="background-color: #fff0f0">&#39;wheel&#39;</span>,(e)<span style="color: #333333">=&gt;</span>{z<span style="color: #333333">=</span><span style="color: #007020">Math</span>.max(z<span style="color: #333333">+</span>e.wheelDelta<span style="color: #333333">/</span><span style="color: #0000DD; font-weight: bold">100</span>,<span style="color: #6600EE; font-weight: bold">0.5</span>);z2<span style="color: #333333">=</span>z<span style="color: #333333">*</span>z;u();<span style="color: #008800; font-weight: bold">return</span> <span style="color: #008800; font-weight: bold">false</span>},<span style="color: #008800; font-weight: bold">false</span>);
<span style="color: #008800; font-weight: bold">function</span> u(){g[q[<span style="color: #0000DD; font-weight: bold">413</span>]](l,z2,x,y),g[q[<span style="color: #0000DD; font-weight: bold">345</span>]](<span style="color: #0000DD; font-weight: bold">4</span>,<span style="color: #0000DD; font-weight: bold">6</span>,<span style="color: #0000DD; font-weight: bold">5123</span>,<span style="color: #0000DD; font-weight: bold">0</span>)}
u();
<span style="color: #007700">&lt;/script&gt;</span>
</pre></td></tr></table></div>
                </div>
            </div>
        </div>
        <footer>
            <div id="name" class="bottom__right">leonmontealegre.com</div>
        </footer>

        <script src="/index.js"></script>
    </body>
</html>
